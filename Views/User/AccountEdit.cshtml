@model User
@{
    bool passwordBool = ViewBag.ChangePassword != null ? (bool)ViewBag.ChangePassword : false;
}

<section style="padding-top: 80px;">
    <div class="my-account container mt-4 pt-4 mb-5 pb-5">
        <h2 class="page-title">ACCOUNT DETAILS</h2>
        <div class="row">
            <div class="col-lg-3">
                @await Html.PartialAsync("_accountMenu")
            </div>
            <div class="col-lg-9">
                <div class="page-content my-account__edit">
                    <div class="my-account__edit-form">
                        <form asp-controller="user" asp-action="AccountEdit" method="post" class="needs-validation">
                            <div asp-validation-summary="All"> </div>
                            <input type="hidden" id="passwordBool" name="passwordBool" value="@passwordBool" />
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-floating my-3">
                                        <input asp-for="UserName" class="form-control" placeholder="First Name">
                                        <label for="UserName">First Name</label>
                                        <span asp-validation-for="UserName" class="text-danger position-relative"></span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating my-3">
                                        <input asp-for="UserSurname" class="form-control" placeholder="Last Name">
                                        <label for="UserSurname">Last Name</label>
                                        <span asp-validation-for="UserSurname" class="text-danger position-relative"></span>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-floating my-3">
                                        <input asp-for="UserNickname" class="form-control" placeholder="Nickname">
                                        <label for="UserNickname">Nickname</label>
                                        <span asp-validation-for="UserNickname" class="text-danger position-relative"></span>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-floating my-3">
                                        <input asp-for="UserPhone" class="form-control" placeholder="Phone">
                                        <label for="UserPhone">Phone</label>
                                        <span asp-validation-for="UserPhone" class="text-danger position-relative"></span>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-floating my-3">
                                        <input asp-for="UserEmail" class="form-control" placeholder="Email">
                                        <label for="UserEmail">Email</label>
                                        <span asp-validation-for="UserEmail" class="text-danger position-relative"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="row edit-password @(!passwordBool ? "d-none": "")">
                                <div class="col-md-12">
                                    <div class="my-3">
                                        <h5 class="text-uppercase mb-0">Password Change</h5>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-floating my-3">
                                        <input asp-for="UserPassword" type="password" class="form-control" placeholder="Current password">
                                        <label for="UserPassword">Current password</label>
                                        <span class="text-danger position-relative">@Html.ValidationMessage("CurrentPassword")</span>

                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-floating my-3">
                                        <input name="NewPassword" type="password" class="form-control" placeholder="New password">
                                        <label for="NewPassword">New password</label>
                                        <span class="text-danger position-relative">@Html.ValidationMessage("NewPassword")</span>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-floating my-3">
                                        <input name="NewPassword" type="password" class="form-control" placeholder="Confirm new password">
                                        <label for="NewPassword">Confirm new password</label>
                                        <div class="invalid-feedback">Passwords did not match!</div>
                                        <span class="text-danger position-relative">@Html.ValidationMessage("NewPassword")</span>
                                    </div>
                                </div>
                            </div>
                            <div class="my-3 d-flex">
                                <button class="btn btn-primary me-3">Save Changes</button>
                                <a href="/user/AccountEdit" class="btn btn-primary px-4 d-flex align-items-center justify-content-center">Cancel</a>
                            </div>
                            <span class="btn-text text-decoration-underline show-edit-password">Change Password</span>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
